<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>PropertyCross</title>
    <meta name="description" content="An implementation of the PropertyCross application written in Lungo">
    <meta name="author" content="Steven Hall (stevenhall@scottlogic.co.uk)">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="cleartype" content="on">

    <!-- iPhone -->
    <link href="http://cdn.tapquo.com/lungo/icon-57.png" sizes="57x57" rel="apple-touch-icon">
    <link href="http://cdn.tapquo.com/lungo/startup-image-320x460.png" media="(device-width: 320px) and (device-height: 480px)
             and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">

    <!-- iPhone (Retina) -->
    <link href="http://cdn.tapquo.com/lungo/icon-114.png" sizes="114x114" rel="apple-touch-icon">
    <link href="http://cdn.tapquo.com/lungo/startup-image-640x920.png" media="(device-width: 320px) and (device-height: 480px)
             and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">

    <!-- iPhone 5 -->
    <link href="http://cdn.tapquo.com/lungo/startup-image-640x1096.png" media="(device-width: 320px) and (device-height: 568px)
             and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">

    <!-- iPad -->
    <link href="http://cdn.tapquo.com/lungo/icon-72.png" sizes="72x72" rel="apple-touch-icon">
    <link href="http://cdn.tapquo.com/lungo/startup-image-768x1004.png" media="(device-width: 768px) and (device-height: 1024px)
             and (orientation: portrait)
             and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">
    <link href="http://cdn.tapquo.com/lungo/startup-image-748x1024.png" media="(device-width: 768px) and (device-height: 1024px)
             and (orientation: landscape)
             and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">

    <!-- iPad (Retina) -->
    <link href="http://cdn.tapquo.com/lungo/icon-144.png" sizes="144x144" rel="apple-touch-icon">
    <link href="http://cdn.tapquo.com/lungo/startup-image-1536x2008.png" media="(device-width: 768px) and (device-height: 1024px)
             and (orientation: portrait)
             and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
    <link href="http://cdn.tapquo.com/lungo/startup-image-1496x2048.png" media="(device-width: 768px) and (device-height: 1024px)
             and (orientation: landscape)
             and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="components/lungo/lungo.css">
    <link rel="stylesheet" href="components/lungo/lungo.icon.css">
    <link rel="stylesheet" href="components/lungo/lungo.icon.brand.css">
    <link rel="stylesheet" href="components/lungo/lungo.css">
    <link rel="stylesheet" href="components/lungo/theme.lungo.css">
    <link rel="stylesheet" href="css/main.css">
</head>

<body class="app" data-position="fixed">
    <section id="main" data-transition="">
        <header>
            <p class="title centered">Property Cross</p>
            <nav class="right">
                <a href="#faves" data-router="section" class="button">Faves</a>
            </nav>
        </header>

        <article id="search-form" class="active indented list">
            <p>
                Use the form below to search for houses to buy. You can search by place-name, postcode, or click 'My location', to search in your current location!
            </p>

            <div data-bind="visible: isSearching" data-loading="" class="loader"></div>

            <form data-bind="submit: performSearch">
                <input type="text" data-bind="value: searchTerm" placeholder="Enter Location" />
                <button type="submit" data-router="section" class="blue">Go</button>
                <button href="#" class="blue">My Location</button>
            </form>

            <p class="error-message" data-bind="text: errorMessage"></p>

            <div data-bind="visible: hasSuggestions() === false">
                <p>Recent searches:</p>

                <ul data-bind="foreach:recentSearches">
                    <li data-bind="text: name"></li>
                </ul>
            </div>

            <div data-bind="visible: hasSuggestions() === true">
                <p>Please select a location below:</p>

                <ul data-bind="foreach:suggestions">
                    <li data-bind="click: $parent.performSearchFromSuggested"><strong data-bind="text: longTitle"></strong></li>
                </ul>
            </div>

        </article>
    </section>

    <section id="faves" data-transition="slide">
        <header data-back="home blue">
            <p class="title centered">Favourites</p>
        </header>

        <article id="favourite-list" class="active indented list">
            <ul>
                <li>Muenchen, Deutschland</li>
                <li>Lyon, France</li>
                <li>Vancouver, Canada</li>
            </ul>
        </article>

    </section>

    <section id="results" data-transition="slide">
        <header data-back="home blue">
            <p class="title centered"><span data-bind="text: pageCount"></span> out of <span data-bind="text: resultCount"></span> matches</p>
        </header>

        <article id="result-list" class="active indented list scroll">
            <ul data-bind="foreach: properties">
                <li data-bind="template: { name: 'property-template', data: $data }"></li>
            </ul>
            <ul data-bind="visible: hasMoreResults">
                <li data-bind="click: retrieveMoreResults">
                    <strong data-bind="text: loadMoreText"></strong>
                    <small>Results for <strong data-bind="text: searchTerm"></strong>, showing <strong data-bind="text: pageCount"></strong> of <strong data-bind="text: resultCount"></strong> properties</small>
                </li>
            </ul>
        </article>
    </section>

    <script type="text/html" id="property-template">
        <div class="property">
            <div class="property-thumbnail ib">
                <img data-bind="attr: { src: thumbnailUrl } " />
            </div>
            <div class="property-information ib">
                <strong data-bind="text: formattedPrice"></strong>
                <small data-bind="text: title"></small>
            </div>
        </div>
    </script>


    <!-- Lungo - Dependencies -->
    <script src="components/quojs/quo.js"></script>
    <script src="components/lungo/lungo.js"></script>
    <!-- Lungo - Sandbox App -->
    <script>
        Lungo.init({
            name: 'PropertyCross',
            version: '1.0'
        });
    </script>
    <script data-main="application" src="components/requirejs/require.js"></script>
</body>
</html>
